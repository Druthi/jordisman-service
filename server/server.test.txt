const axios = require('axios');

const port = 3003;

describe('index', () => {
  let response;

  beforeAll(() => {
    return axios
      .get(`http://localhost:3003/api/reviews/81420`)
      .then(res => {
        response = res;
      })
      .catch(() => console.log('beforeAll FAILED'));
  });

  it('should handle get requests', () => {
    expect(response.status).toBe(200);
  });

  it('should return an array with length of 7', () => {
    expect(Array.isArray(response.results)).toBe(true);
    expect(response.results.length).toBe(7);
  });
});